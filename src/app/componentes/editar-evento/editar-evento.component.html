<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Editar Evento - Unieventos</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      .form-control {
          width: 100%;
      }

      /* Ajuste de ancho de los campos de carga de imágenes */
      .form-control-file {
          max-width: 300px;
      }

      .form-label {
          font-weight: 600;
      }
    </style>
  </head>
  <body>
    <section class="container py-5">
      <div class="text-center mb-4">
        <h1 class="fw-light display-3">Unieventos</h1>
        <figure class="figure">
          <img src="https://firebasestorage.googleapis.com/v0/b/unieventos-aca74.appspot.com/o/logoUnieventos.png?alt=media&token=2f08a9d2-d0e5-4a8f-93ec-5524216aa0c9" 
               class="rounded-circle"
               alt="Logo Unieventos" 
               height="150px" 
               width="150px">
        </figure>
        <h2>Editar Evento</h2>
      </div>

      <form class="row g-4" [formGroup]="editarEventoForm" >
        
        <div class="col-md-6">
          <label class="form-label">Nombre:</label>
          <input type="text" formControlName="nombre" class="form-control" placeholder="Nombre del evento" required>
        </div>

        <div class="col-md-6">
          <label class="form-label">Descripción:</label>
          <textarea formControlName="descripcion" class="form-control" placeholder="Descripción del evento" required></textarea>
        </div>

        <div class="col-md-6">
          <label class="form-label">Tipo:</label>
          <select formControlName="tipo" class="form-select">
            <option value="">Seleccione un tipo</option>
            <option *ngFor="let item of tiposDeEvento" [value]="item">{{ item }}</option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label">Dirección:</label>
          <input type="text" formControlName="direccion" class="form-control" placeholder="Dirección del evento" required>
        </div>

        <div class="col-md-6">
          <label class="form-label">Ciudad:</label>
          <input type="text" formControlName="ciudad" class="form-control" placeholder="Ciudad del evento" required>
        </div>

        <!-- Campo de Localidad (ComboBox) -->
        <div class="col-md-6">
          <label class="form-label">Localidad:</label>
          <select formControlName="localidad" class="form-select" required>
            <option value="">Seleccione una localidad</option>
            <option *ngFor="let localidad of localidades" [value]="localidad">{{ localidad }}</option>
          </select>
        </div>

        <!-- Campo de Imagen del Evento -->
        <div class="col-md-6 d-flex gap-2">
          <label for="imagenEvento" class="form-label">Imagen del evento:</label>
          <input id="imagenEvento" type="file" (change)="onFileChange($event, 'evento')" class="form-control-file">
          <button type="button" class="btn btn-primary" (click)="subirImagen('evento')">
            <i class="fa-solid fa-cloud-arrow-up"></i>
          </button>
        </div>

        <!-- Campo de Imagen de Localidad -->
        <div class="col-md-6 d-flex gap-2">
          <label for="imagenPortada" class="form-label">Imagen de la localidad:</label>
          <input id="imagenPortada" type="file" (change)="onFileChange($event, 'portada')" class="form-control-file">
          <button type="button" class="btn btn-primary" (click)="subirImagen('portada')">
            <i class="fa-solid fa-cloud-arrow-up"></i>
          </button>
        </div>

        <div class="col-12 text-center">
          <button type="submit" class="btn btn-success me-2" [disabled]="editarEventoForm.invalid">Guardar Cambios</button>
          <button type="button" class="btn btn-danger" >Eliminar Evento</button>
        </div>

      </form>
    </section>
  </body>
</html>
