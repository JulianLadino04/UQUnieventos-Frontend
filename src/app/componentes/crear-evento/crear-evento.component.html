<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Crear Evento - Unieventos</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      .form-control {
          width: 100%;
      }
    </style>
  </head>
  <body>
    <section class="container py-5">
      <div class="text-center mb-4">
        <h1 class="fw-light display-3">Unieventos</h1>
        <figure class="figure">
          <img src="https://firebasestorage.googleapis.com/v0/b/unieventos-aca74.appspot.com/o/logoUnieventos.png?alt=media&token=2f08a9d2-d0e5-4a8f-93ec-5524216aa0c9" 
               class="rounded-circle"
               alt="Logo Unieventos" 
               height="150px" 
               width="150px">
        </figure>
        <h2>Crear Evento</h2>
      </div>

      <form class="row g-4" [formGroup]="crearEventoForm" (ngSubmit)="crearEvento()">
        
        <div class="col-md-6">
          <label class="form-label">Nombre:</label>
          <input type="text" formControlName="nombre" class="form-control" placeholder="Nombre del evento" required>
        </div>

        <div class="col-md-6">
          <label class="form-label">Descripci贸n:</label>
          <textarea formControlName="descripcion" class="form-control" placeholder="Descripci贸n del evento" required></textarea>
        </div>

        <div class="col-md-6">
          <label class="form-label">Tipo:</label>
          <select formControlName="tipo" class="form-select">
            <option value="">Seleccione un tipo</option>
            <option *ngFor="let item of tiposDeEvento" [value]="item">{{ item }}</option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label">Direcci贸n:</label>
          <input type="text" formControlName="direccion" class="form-control" placeholder="Direcci贸n del evento" required>
        </div>

        <div class="col-md-6">
          <label class="form-label">Ciudad:</label>
          <input type="text" formControlName="ciudad" class="form-control" placeholder="Ciudad del evento" required>
        </div>

        <!-- Combo box de Localidades con botones para guardar y crear -->
        <div class="col-md-6">
          <label class="form-label">Localidad:</label>
          <div class="d-flex align-items-center">
            <select formControlName="localidad" class="form-select me-2" required>
              <option value="">Seleccione una localidad</option>
              <option *ngFor="let localidad of localidades" [value]="localidad">{{ localidad }}</option>
            </select>
            <button type="button" class="btn btn-success btn-sm me-2" >Guardar Localidad</button>
            <button type="button" class="btn btn-primary btn-sm" (click)="navigateToCrearLocalidad()">Crear Localidad</button>
          </div>
        </div>

        <!-- Campo de Imagen del Evento -->
        <div class="mb-3 d-flex gap-2">
            <label for="imagenEvento">Imagen del evento:</label>
            <input id="imagenEvento" type="file" (change)="onFileChange($event, 'evento')" class="form-control" />
            <button type="button" class="btn btn-primary" (click)="subirImagen('evento')">
              <i class="fa-solid fa-cloud-arrow-up"></i>
            </button>
        </div>

        <!-- Campo de Imagen de Localidad -->
        <div class="mb-3 d-flex gap-2">
            <label for="imagenPortada">Imagen de la localidad:</label>
            <input id="imagenPortada" type="file" (change)="onFileChange($event, 'portada')" class="form-control" />
            <button type="button" class="btn btn-primary" (click)="subirImagen('portada')">
              <i class="fa-solid fa-cloud-arrow-up"></i>
            </button>
        </div>

        <div class="col-12 text-center">
          <button type="submit" class="btn btn-success">Crear Evento</button>
        </div>

      </form>
    </section>
  </body>
</html>
